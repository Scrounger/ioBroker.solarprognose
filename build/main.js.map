{
  "version": 3,
  "sources": ["../src/main.ts"],
  "sourcesContent": ["/*\n * Created with @iobroker/create-adapter v2.6.5\n */\n\n// The adapter-core module gives you access to the core ioBroker functions\n// you need to create an adapter\nimport * as utils from '@iobroker/adapter-core';\nimport moment from 'moment';\nimport * as schedule from \"node-schedule\";\nimport * as fs from 'fs';\n\nimport * as myTypes from './lib/myTypes';\n\nclass Solarprognose extends utils.Adapter {\n\ttestMode = false;\n\n\tapiEndpoint = 'https://www.solarprognose.de/web/solarprediction/api/v1';\n\tupdateSchedule: schedule.Job | undefined = undefined;\n\tmyTranslation: { [key: string]: any; } | undefined;\n\n\tpublic constructor(options: Partial<utils.AdapterOptions> = {}) {\n\t\tsuper({\n\t\t\t...options,\n\t\t\tname: 'solarprognose',\n\t\t\tuseFormatDate: true\n\t\t});\n\t\tthis.on('ready', this.onReady.bind(this));\n\t\tthis.on('stateChange', this.onStateChange.bind(this));\n\t\t// this.on('objectChange', this.onObjectChange.bind(this));\n\t\t// this.on('message', this.onMessage.bind(this));\n\t\tthis.on('unload', this.onUnload.bind(this));\n\t}\n\n\t/**\n\t * Is called when databases are connected and adapter received configuration.\n\t */\n\tprivate async onReady(): Promise<void> {\n\t\tconst logPrefix = '[onReady]:';\n\n\t\ttry {\n\t\t\t// Initialize your adapter here\n\t\t\tawait this.loadTranslation();\n\t\t\tawait this.updateData();\n\n\t\t} catch (error: any) {\n\t\t\tthis.log.error(`${logPrefix} error: ${error}, stack: ${error.stack}`);\n\t\t}\n\t}\n\n\t/**\n\t * Is called when adapter shuts down - callback has to be called under any circumstances!\n\t */\n\tprivate onUnload(callback: () => void): void {\n\t\ttry {\n\t\t\tif (this.updateSchedule) this.updateSchedule.cancel()\n\n\t\t\tcallback();\n\t\t} catch (e) {\n\t\t\tcallback();\n\t\t}\n\t}\n\n\t// If you need to react to object changes, uncomment the following block and the corresponding line in the constructor.\n\t// You also need to subscribe to the objects with `this.subscribeObjects`, similar to `this.subscribeStates`.\n\t// /**\n\t//  * Is called if a subscribed object changes\n\t//  */\n\t// private onObjectChange(id: string, obj: ioBroker.Object | null | undefined): void {\n\t// \tif (obj) {\n\t// \t\t// The object was changed\n\t// \t\tthis.log.info(`object ${id} changed: ${JSON.stringify(obj)}`);\n\t// \t} else {\n\t// \t\t// The object was deleted\n\t// \t\tthis.log.info(`object ${id} deleted`);\n\t// \t}\n\t// }\n\n\t/**\n\t * Is called if a subscribed state changes\n\t */\n\tprivate onStateChange(id: string, state: ioBroker.State | null | undefined): void {\n\t\tif (state) {\n\t\t\t// The state was changed\n\t\t\tthis.log.info(`state ${id} changed: ${state.val} (ack = ${state.ack})`);\n\t\t} else {\n\t\t\t// The state was deleted\n\t\t\tthis.log.info(`state ${id} deleted`);\n\t\t}\n\t}\n\n\t// If you need to accept messages in your adapter, uncomment the following block and the corresponding line in the constructor.\n\t// /**\n\t//  * Some message was sent to this instance over message box. Used by email, pushover, text2speech, ...\n\t//  * Using this method requires \"common.messagebox\" property to be set to true in io-package.json\n\t//  */\n\t// private onMessage(obj: ioBroker.Message): void {\n\t// \tif (typeof obj === 'object' && obj.message) {\n\t// \t\tif (obj.command === 'send') {\n\t// \t\t\t// e.g. send email or pushover or whatever\n\t// \t\t\tthis.log.info('send command');\n\n\t// \t\t\t// Send response in callback if required\n\t// \t\t\tif (obj.callback) this.sendTo(obj.from, obj.command, 'Message received', obj.callback);\n\t// \t\t}\n\t// \t}\n\t// }\n\n\tprivate async updateData(): Promise<void> {\n\t\tconst logPrefix = '[updateData]:';\n\n\t\ttry {\n\t\t\tif (this.config.project && this.config.accessToken) {\n\t\t\t\tconst url = `${this.apiEndpoint}?access-token=${this.config.accessToken}&project=${this.config.project}&type=hourly&_format=json`;\n\t\t\t\tconst data = await this.downloadData(url);\n\n\t\t\t\tthis.log.silly(JSON.stringify(data));\n\n\t\t\t\tthis.log.info(`${logPrefix} updating data`);\n\n\t\t\t\tif (data) {\n\t\t\t\t\tif (data.status === 0) {\n\t\t\t\t\t\tawait this.createOrUpdateState(this.namespace, myTypes.stateDefinition['statusResponse'], data.status, 'statusResponse', true);\n\n\t\t\t\t\t\tif (data.data) {\n\t\t\t\t\t\t\tlet jsonResult: Array<myTypes.myJsonStructure> = [];\n\t\t\t\t\t\t\tfor (const [timestamp, arr] of Object.entries(data.data)) {\n\t\t\t\t\t\t\t\tjsonResult.push({\n\t\t\t\t\t\t\t\t\thuman: moment(parseInt(timestamp) * 1000).format(`ddd ${this.dateFormat} HH:mm`),\n\t\t\t\t\t\t\t\t\ttimestamp: parseInt(timestamp) * 1000,\n\t\t\t\t\t\t\t\t\tval: arr[0],\n\t\t\t\t\t\t\t\t\ttotal: arr[1]\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tawait this.createOrUpdateState(this.namespace, myTypes.stateDefinition['jsonTable'], JSON.stringify(jsonResult), 'jsonTable');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.log.error(`${logPrefix} received data has no forecast data!`);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (this.updateSchedule) this.updateSchedule.cancel()\n\t\t\t\t\t\tthis.updateSchedule = schedule.scheduleJob(this.getNextUpdateTime(data.preferredNextApiRequestAt).toDate(), async () => {\n\t\t\t\t\t\t\tthis.updateData();\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tawait this.createOrUpdateState(this.namespace, myTypes.stateDefinition['lastUpdate'], moment().format(`ddd ${this.dateFormat} HH:mm:ss`), 'lastUpdate');\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.log.error(`${logPrefix} data received with error code: ${data.status} - ${myTypes.stateDefinition.statusResponse.common.states[data.status]}`);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.log.error(`${logPrefix} no data received!`);\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tthis.log.error(`${logPrefix} project and / or access token missing. Please check your adapter configuration!`);\n\t\t\t}\n\t\t} catch (error: any) {\n\t\t\tthis.log.error(`${logPrefix} error: ${error}, stack: ${error.stack}`);\n\t\t}\n\t}\n\n\tprivate async downloadData(url: string): Promise<myTypes.dataStructure | undefined> {\n\t\tconst logPrefix = '[downloadData]:';\n\n\t\ttry {\n\t\t\tif (!this.testMode) {\n\t\t\t\tconst response: any = await fetch(url);\n\n\t\t\t\tif (response.status === 200) {\n\t\t\t\t\tthis.log.debug(`${logPrefix} data successfully received`);\n\n\t\t\t\t\treturn await response.json();\n\t\t\t\t} else {\n\t\t\t\t\tthis.log.error(`${logPrefix} status code: ${response.status}`);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.log.warn(`${logPrefix} Test mode is active!`);\n\n\t\t\t\tconst objects = require('../test/testData.json');\n\t\t\t\treturn objects;\n\t\t\t}\n\t\t} catch (error: any) {\n\t\t\tthis.log.error(`${logPrefix} error: ${error}, stack: ${error.stack}`);\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tprivate async createOrUpdateState(idChannel: string, stateDef: myTypes.tStateDefinition, val: string | number, key: string, forceUpdate: boolean = false): Promise<boolean> {\n\t\tconst logPrefix = '[createOrUpdateState]:';\n\n\t\ttry {\n\t\t\tconst id = `${idChannel}.${stateDef.id}`\n\n\t\t\tstateDef.common.name = this.getTranslation(key);\n\n\t\t\tif (stateDef.common.unit && Object.prototype.hasOwnProperty.call(this.config, stateDef.common.unit)) {\n\t\t\t\t//@ts-ignore\n\t\t\t\tstateDef.common.unit = this.getTranslation(this.config[stateDef.common.unit]) || stateDef.common.unit\n\t\t\t}\n\n\t\t\tif (!await this.objectExists(id)) {\n\t\t\t\tthis.log.debug(`${logPrefix} creating state '${id}'`);\n\n\t\t\t\tconst obj = {\n\t\t\t\t\ttype: 'state',\n\t\t\t\t\tcommon: stateDef.common,\n\t\t\t\t\tnative: {}\n\t\t\t\t};\n\n\t\t\t\t//@ts-ignore\n\t\t\t\tawait this.setObjectAsync(id, obj);\n\t\t\t} else {\n\t\t\t\t// update State if needed\n\t\t\t\tconst obj = await this.getObjectAsync(id);\n\n\n\t\t\t\tif (obj && obj.common) {\n\t\t\t\t\tif (JSON.stringify(obj.common) !== JSON.stringify(stateDef.common)) {\n\t\t\t\t\t\tawait this.extendObject(id, { common: stateDef.common });\n\t\t\t\t\t\tthis.log.debug(`${logPrefix} updated common properties of state '${id}'`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (forceUpdate) {\n\t\t\t\tawait this.setState(id, val, true);\n\t\t\t\tthis.log.silly(`${logPrefix} value of state '${id}' updated (force: ${forceUpdate})`);\n\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\tlet changedObj: any = undefined;\n\n\t\t\t\tchangedObj = await this.setStateChangedAsync(id, val, true);\n\n\t\t\t\tif (changedObj && Object.prototype.hasOwnProperty.call(changedObj, 'notChanged') && !changedObj.notChanged) {\n\t\t\t\t\tthis.log.silly(`${logPrefix} value of state '${id}' changed`);\n\t\t\t\t\treturn !changedObj.notChanged\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err: any) {\n\t\t\tconsole.error(`${logPrefix} error: ${err.message}, stack: ${err.stack}`);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tprivate getNextUpdateTime(preferredNextApiRequestAt: myTypes.preferredNextApiRequestAt | undefined): moment.Moment {\n\t\tconst logPrefix = '[getNextUpdateTime]:';\n\n\t\tlet nextUpdate = moment().add(1, 'hours');\n\n\t\ttry {\n\t\t\tif (preferredNextApiRequestAt && preferredNextApiRequestAt.epochTimeUtc) {\n\t\t\t\tconst nextApiRequestLog = moment(preferredNextApiRequestAt.epochTimeUtc * 1000).format(`ddd ${this.dateFormat} HH:mm:ss`);\n\n\t\t\t\tif (!moment().isBefore(moment(preferredNextApiRequestAt.epochTimeUtc * 1000))) {\n\t\t\t\t\t// 'preferredNextApiRequestAt' is in the past\n\t\t\t\t\tthis.log.debug(`${logPrefix} preferredNextApiRequestAt: '${nextApiRequestLog}' is in the past! Next update: ${nextUpdate.format(`ddd ${this.dateFormat} HH:mm:ss`)}`);\n\t\t\t\t} else if ((moment(preferredNextApiRequestAt.epochTimeUtc * 1000).diff(moment()) / (1000 * 60 * 60)) >= 1.1) {\n\t\t\t\t\t// 'preferredNextApiRequestAt' is more than one hour in the future\n\t\t\t\t\tthis.log.debug(`${logPrefix} preferredNextApiRequestAt: '${nextApiRequestLog}' is more than one hour in the future! Next update: ${nextUpdate.format(`ddd ${this.dateFormat} HH:mm:ss`)}`);\n\t\t\t\t} else {\n\t\t\t\t\t// using 'preferredNextApiRequestAt'\n\t\t\t\t\tnextUpdate = moment(preferredNextApiRequestAt.epochTimeUtc * 1000);\n\t\t\t\t\tthis.log.debug(`${logPrefix} next update: ${moment(preferredNextApiRequestAt.epochTimeUtc * 1000).format(`ddd ${this.dateFormat} HH:mm:ss`)} by 'preferredNextApiRequestAt'`);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.log.debug(`${logPrefix} no 'preferredNextApiRequestAt' exist, next update: ${nextUpdate.format(`ddd ${this.dateFormat} HH:mm:ss`)}`);\n\t\t\t}\n\n\t\t} catch (err: any) {\n\t\t\tconsole.error(`${logPrefix} error: ${err.message}, stack: ${err.stack}`);\n\t\t}\n\n\t\treturn nextUpdate;\n\t}\n\n\tprivate async loadTranslation(): Promise<void> {\n\t\tconst logPrefix = '[loadTranslation]:';\n\n\t\ttry {\n\t\t\tmoment.locale(this.language || 'en');\n\n\t\t\tconst fileName = `../admin/i18n/${this.language || 'en'}/translations.json`\n\n\t\t\tthis.myTranslation = (await import(fileName, { assert: { type: 'json' } })).default;\n\n\t\t\tthis.log.debug(`${logPrefix} translation data loaded from '${fileName}'`);\n\n\t\t} catch (err: any) {\n\t\t\tconsole.error(`${logPrefix} error: ${err.message}, stack: ${err.stack}`);\n\t\t}\n\t}\n\n\tprivate getTranslation(str: string): string {\n\t\tconst logPrefix = '[getTranslation]:';\n\n\t\ttry {\n\t\t\tif (this.myTranslation && this.myTranslation[str]) {\n\t\t\t\treturn this.myTranslation[str];\n\t\t\t} else {\n\t\t\t\tthis.log.warn(`${logPrefix} no translation for key '${str}' exists!`);\n\t\t\t}\n\t\t} catch (err: any) {\n\t\t\tconsole.error(`${logPrefix} error: ${err.message}, stack: ${err.stack}`);\n\t\t}\n\n\t\treturn str;\n\t}\n}\n\nif (require.main !== module) {\n\t// Export the constructor in compact mode\n\tmodule.exports = (options: Partial<utils.AdapterOptions> | undefined) => new Solarprognose(options);\n} else {\n\t// otherwise start the instance directly\n\t(() => new Solarprognose())();\n}"],
  "mappings": "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",
  "names": ["moment"]
}
